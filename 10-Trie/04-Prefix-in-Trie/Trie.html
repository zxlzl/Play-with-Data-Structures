<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script type="text/javascript">
		class TrieNode{
		 	constructor(){
		 		this.next = new Map();
		 		this.isWorld = false;
		 	}
		}

		class Trie{
		 	constructor(){
		 		this.root = new TrieNode(null);
		 		this.size = 0;
		 	}

		 	getSize(){
		 		return this.size;
		 	}

		 	// 向Trie中添加一个新的单词word
		 	add(word){
		 		let cur = this.root,c;
		 		for (let i = 0; i < word.length; i++) {
		 			c = word.charAt(i);
		 			if(!cur.next.get(c)){
		 				cur.next.set(c,new TrieNode(c));
		 			}
		 			cur = cur.next.get(c);
		 		}
		 		if (!cur.isWorld) {
		 			cur.isWorld = true;
		 			this.size++;
		 		}
		 	}

		 	// 查询单词word是否在Trie中
		 	search(word){
		 		let cur = this.root,c;
		 		for (let i = 0; i < word.length; i++) {
		 			c = word.charAt(i);
		 			if (!cur.next.get(c)) {
		 				return false;
		 			}
		 			cur = cur.next.get(c);
		 		}
		 		return cur.isWorld;
		 	}

		 	isPrefix(prefix){
		 		let cur = this.root,c;
		 		for (let i = 0; i < prefix.length; i++) {
		 			c = prefix.charAt(i);
		 			if (!cur.next.get(c)) {
		 				return false;
		 			}
		 			cur = cur.next.get(c);
		 		}
		 		return true;
		 	}
		}

		let trie = new Trie();
		trie.add('apple');
		trie.add('panda');
		console.log(trie);
		console.log(trie.search('apple'));
		console.log(trie.isPrefix('ap'));
	</script>
</body>
</html>